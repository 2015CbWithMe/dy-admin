(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0c41a2"],{"1e0a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dy-container",[a("dy-header",{staticStyle:{padding:"1rem"}},[a("el-form",{staticClass:"sform",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"输入姓名查找",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"选择状态",size:"mini"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"已启用",value:"shanghai"}}),a("el-option",{attrs:{label:"已禁用",value:"beijing"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("dy-body",[a("el-table",{ref:"tableRef",staticStyle:{width:"100%"},attrs:{data:e.filerData,"tooltip-effect":"dark",height:"100%"},on:{"selection-change":e.handleChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.phone))]}}])}),a("el-table-column",{attrs:{prop:"pos",label:"职位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.pos))]}}])}),a("el-table-column",{attrs:{prop:"dep",label:"所属部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.dep))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"180","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.address))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"创建时间",width:"160","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.date))]}}])}),a("el-table-column",{attrs:{prop:"address",label:"状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){return e.handleSwitch(a,t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"120","show-overflow-tooltip":""}},[[a("span",{staticClass:"edit",staticStyle:{color:"#2196F3",cursor:"pointer"},on:{click:e.editAction}},[e._v("编辑")])]],2)],1)],1),a("div",{staticClass:"bottom"},[a("dyBottomAction",{attrs:{tableRef:e.$refs.tableRef,totalLen:e.tableData.length,SelectedRowNums:e.baction.SelectedRowNums,options:e.baction.options},on:{action:e.handleAction}}),a("pagination",{attrs:{total:e.pager.total,currentPage:e.pager.curpage}})],1),a("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"460px"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"editForm",attrs:{"label-position":"left","label-width":"80px",model:e.editForm,rules:e.editFormRules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入员工姓名",size:"mini"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"所属部门",prop:"dep"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",placeholder:"请选择所属部门"},model:{value:e.editForm.dep,callback:function(t){e.$set(e.editForm,"dep",t)},expression:"editForm.dep"}},e._l(e.editFormOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},n=[],o=(a("4de4"),a("caad"),a("b0c0"),a("2532"),a("2909")),s=(a("a17b"),a("d3b7"),a("d4ec"),a("bee2"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,50,100,200],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.total}})],1)}),r=[],i=(a("a9e3"),{props:{total:Number,currentPage:{default:0,type:Number}},mounted:function(){console.log(this.options)}}),c=i,u=a("2877"),f=Object(u["a"])(c,s,r,!1,null,null,null),d=f.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination_box_action"},[a("el-checkbox",{staticClass:"pagination_box_action_one",attrs:{label:"全选",size:"mini",border:""},on:{change:e.paginationCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}}),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"批量操作",size:"mini"},on:{change:e.handleSelectChange},model:{value:e.actionAllVal,callback:function(t){e.actionAllVal=t},expression:"actionAllVal"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-dialog",{attrs:{title:e.title,visible:e.setVisible,width:"30%"},on:{"update:visible":function(t){e.setVisible=t},close:e.closeSet}},[a("el-form",{ref:"resetStaffForm",attrs:{"label-position":"left","label-width":"80px",model:e.resetStaffForm,rules:e.restStaffFormRules}},["修改部门"==e.title?a("el-form-item",{attrs:{label:"所属部门",prop:"staffDepartment"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",placeholder:"请选择所属部门"},model:{value:e.resetStaffForm.staffDepartment,callback:function(t){e.$set(e.resetStaffForm,"staffDepartment",t)},expression:"resetStaffForm.staffDepartment"}},e._l(e.staffDepartmentOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):a("el-form-item",{attrs:{label:"当前职务",prop:"staffPos"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",placeholder:"请选择员工职务"},model:{value:e.resetStaffForm.staffPos,callback:function(t){e.$set(e.resetStaffForm,"staffPos",t)},expression:"resetStaffForm.staffPos"}},e._l(e.staffPosOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.resetSubmit}},[e._v("确 定")])],1)],1)],1)},m=[],h={props:{tableRef:Object,totalLen:Number,SelectedRowNums:{default:0,type:Number},options:Array},watch:{SelectedRowNums:function(e){console.log(e,this.totalLen),e==this.totalLen?this.checkAll=!0:this.checkAll=!1}},data:function(){return{checkAll:!1,actionAllVal:"",title:"",setVisible:!1,type:"",resetStaffForm:{staffDepartment:"",staffPos:""},restStaffFormRules:{staffDepartment:[{required:!0,message:"请选择所属部门",trigger:"change"}],staffPos:[{required:!0,message:"请选择员工职务",trigger:"change"}]},actionMethod:"",staffPosOptions:[{value:1,label:"产品经理"},{value:2,label:"运营"},{value:3,label:"视频编辑"},{value:4,label:"法务管理"},{value:5,label:"开发人员"}],staffDepartmentOptions:[{value:1,label:"行政管理"},{value:2,label:"开发团队"},{value:3,label:"政务管理"}]}},methods:{handleSelectChange:function(e){0!=this.SelectedRowNums?this.$emit("action",e):this.$message({type:"error",message:"请选择需要操作的数据"})},resetSubmit:function(){var e=this;this.$refs.resetStaffForm.validate((function(t){t&&(e.actionMethod(),e.setVisible=!1)}))},closeSet:function(){this.clearSelection()},paginationCheckAll:function(){this.tableRef.toggleAllSelection()},clearSelection:function(){this.checkAll=!1}}},b=h,g=(a("4d17"),Object(u["a"])(b,p,m,!1,null,null,null)),v=g.exports,y={components:{pagination:d,dyBottomAction:v},data:function(){return{input1:"",input2:"",editVisible:!1,loading:!1,editForm:{name:"",dep:""},editFormOptions:[{label:"销售部",value:0},{label:"开发部",value:1}],editFormRules:{name:[{required:!0,message:"请填写姓名",trigger:"blur"}],dep:[{required:!0,message:"请选择员工所属部门",trigger:"change"}]},baction:{SelectedRowNums:0,totalLen:0,options:[{value:0,label:"全部删除"},{value:1,label:"全部禁用"},{value:2,label:"全部启用"}]},pager:{total:0,curpage:0},tableData:[],searchKey:"",multipleSelection:[],searchForm:{name:"",status:""}}},watch:{searchForm:{handler:function(e){this.searchKey=e.name},deep:!0}},computed:{filerData:function(){var e=this;return""!=this.searchKey?this.tableData.filter((function(t){return t.name.includes(e.searchKey)})):this.tableData}},mounted:function(){this.getData()},methods:{search:function(){this.searchKey=this.searchForm.name},getData:function(){var e=this;this.$http("/tabledata").then((function(t){var a;console.log(t),e.pager.total=t.total,e.pager.curpage=t.page,(a=e.tableData).push.apply(a,Object(o["a"])(t.data))}))},handleSwitch:function(e,t){var a;a=e?"开启了".concat(t.name,"的帐号"):"禁用了".concat(t.name,"的帐号"),this.$message({message:a,type:"info"})},handleChange:function(e){this.baction.SelectedRowNums=e.length},handleAction:function(e){switch(e){case 0:this.del();break;case 1:this.enableAll(1);break;case 2:this.enableAll(2)}},del:function(){var e=this;setTimeout((function(){e.$message({type:"success",dangerouslyUseHTMLString:!0,message:'成功删除<span style="color:red;padding:0 5px;">'.concat(e.baction.SelectedRowNums,"</span>条数据")})}),1e3)},enableAll:function(e){var t=this;1==e?setTimeout((function(){t.$message({type:"success",dangerouslyUseHTMLString:!0,message:"已全部禁用"})}),1e3):setTimeout((function(){t.$message({type:"success",dangerouslyUseHTMLString:!0,message:"已全部启用"})}),1e3)},editAction:function(){this.editVisible=!0},submit:function(){var e=this;this.$refs["editForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,setTimeout((function(){e.editVisible=!1,e.loading=!1,e.$message({type:"success",dangerouslyUseHTMLString:!0,message:"操作成功"})}),1500)}))}}},S=y,w=(a("ddc5"),Object(u["a"])(S,l,n,!1,null,null,null));t["default"]=w.exports},2532:function(e,t,a){"use strict";var l=a("23e7"),n=a("5a34"),o=a("1d80"),s=a("ab13");l({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(o(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,a){var l=a("861d"),n=a("c6b6"),o=a("b622"),s=o("match");e.exports=function(e){var t;return l(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},"4c78":function(e,t,a){},"4d17":function(e,t,a){"use strict";var l=a("4c78"),n=a.n(l);n.a},"4de4":function(e,t,a){"use strict";var l=a("23e7"),n=a("b727").filter,o=a("1dde"),s=a("ae40"),r=o("filter"),i=s("filter");l({target:"Array",proto:!0,forced:!r||!i},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var l=a("1d80"),n=a("5899"),o="["+n+"]",s=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),i=function(e){return function(t){var a=String(l(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(r,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},"5a34":function(e,t,a){var l=a("44e7");e.exports=function(e){if(l(e))throw TypeError("The method doesn't accept regular expressions");return e}},7156:function(e,t,a){var l=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var o,s;return n&&"function"==typeof(o=t.constructor)&&o!==a&&l(s=o.prototype)&&s!==a.prototype&&n(e,s),e}},a9e3:function(e,t,a){"use strict";var l=a("83ab"),n=a("da84"),o=a("94ca"),s=a("6eeb"),r=a("5135"),i=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),d=a("7c73"),p=a("241c").f,m=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,g="Number",v=n[g],y=v.prototype,S=i(d(y))==g,w=function(e){var t,a,l,n,o,s,r,i,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:l=2,n=49;break;case 79:case 111:l=8,n=55;break;default:return+c}for(o=c.slice(2),s=o.length,r=0;r<s;r++)if(i=o.charCodeAt(r),i<48||i>n)return NaN;return parseInt(o,l)}return+c};if(o(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(S?f((function(){y.valueOf.call(a)})):i(a)!=g)?c(new v(w(t)),a,_):w(t)},F=l?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;F.length>A;A++)r(v,k=F[A])&&!r(_,k)&&h(_,k,m(v,k));_.prototype=y,y.constructor=_,s(n,g,_)}},ab13:function(e,t,a){var l=a("b622"),n=l("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,"/./"[e](t)}catch(l){}}return!1}},caad:function(e,t,a){"use strict";var l=a("23e7"),n=a("4d64").includes,o=a("44d2"),s=a("ae40"),r=s("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!r},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},ddc5:function(e,t,a){"use strict";var l=a("e258"),n=a.n(l);n.a},e258:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0f0c41a2.35dbc3d3.js.map